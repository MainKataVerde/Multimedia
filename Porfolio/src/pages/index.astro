---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
import Proyector from "../components/proyector.astro";

const proyectos = await getCollection("proyectos");
const skills = await getCollection("skills");
const works = await getCollection("works");
---

<Layout title="Bienvenido a mi Portafolio">
  <html>
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link href="./output.css" rel="stylesheet" />
      <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body
      class="bg-gradient-to-b from-[#ffffff] to-[#c2d0dd] dark:from-[#141b21] dark:to-[#3c444b]"
    >
      <!-- Sección "Welcome" -->
      <div
        class="group relative h-screen w-full bg-cover bg-center"
        style="background-image: url(../img/fondo3.jpg)"
      >
        <div
          class="absolute z-[10] h-screen w-full bg-gradient-to-b to-transparent bg-cover bg-center"
          style="background-image: url(../img/Montaña.png)"
        >
        </div>
        <span
          id="welcomeText"
          class="absolute left-[5%] z-[5] translate-y-[300px] text-[70px] font-bold uppercase text-[#a18c78] transition-transform duration-1000 md:left-[5%] md:text-[150px] lg:left-[20%] lg:text-[150px]"
        >
          Welcome
        </span>
      </div>
      <div class="w-screen flex items-center bg-[#ffffff] dark:bg-[#141b21]">
        <button
          onclick="(() => document.body.classList.toggle('dark'))()"
          class="h-12 w-12 rounded-lg p-2"
        >
          <svg
            class="fill-violet-700 block dark:hidden"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
            ></path>
          </svg>
          <svg
            class="fill-yellow-500 hidden dark:block"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
              fill-rule="evenodd"
              clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>
      <!-- Sección "About Me" con imagen de la luna y nube -->
      <div
        class="relative flex h-screen w-full items-center justify-center bg-gradient-to-b from-[#ffffff] to-[#c2d0dd] dark:from-[#141b21] dark:to-[#3c444b]"
      >
        <!-- Imagen de fondo de la luna -->
        <img
          src="../img/luna.png"
          alt="Luna"
          class="absolute inset-0 lg:h-full h-4/5 w-full object-cover lg:w-2/4 md:w-full opacity-80 top-24 lg:top-0"
        />
        <!-- Imagen de la nube sobre la luna -->
        <img
          src="../img/nubess.webp"
          alt="Nube"
          class="absolute left-0 lg:h-1/2 h-full w-[1000px] lg:w-3/5 md:w-full object-contain opacity-80 top-52 lg:top-1/2"
        />
        <!-- Contenido de texto sobre la imagen -->
        <div
          class="relative z-10 w-full lg:w-3/5 md:w-[60%] p-8 text-center lg:text-right"
        >
          <h1
            class="uppercase mb-6 text-4xl font-bold tracking-wide lg:text lg:text-7xl lg:text-black dark:text-white"
          >
            About Me
          </h1>
          <div>
            <p
              class="text-lg leading-relaxed lg:text-xl lg:text-black dark:text-white"
            >
              Hello there! I'm a software developer with a passion for creating
              innovative and user-friendly applications. I'm excited to explore
              the world of web development and contribute to the ever-growing
              field of technology. I'm a dedicated learner and a curious problem
              solver, always eager to expand my knowledge and skills.
            </p>
          </div>
        </div>
      </div>

      <!-- Sección de otros elementos (Projects, Skills, Works) -->
      <div
        class="h-screen w-full bg-gradient-to-b dark:from-[#3c444b] dark:to-[#414950] from-[#c2d0dd] to-[#9fafbe]"
      >
        <div class="lg:flex h-full w-full">
          <!-- Sección "Projects" con texto oculto que aparece al hacer hover -->
          <div
            class="group relative flex h-[20vh] lg:h-full w-full lg:w-1/3 items-center justify-center duration-500 ease-out lg:hover:w-full hover:none"
          >
            <!-- Texto principal de "Projects" -->
            <p
              class="uppercase text-5xl font-bold text-white transition duration-700 lg:text-4xl -translate-y-36 lg:-translate-y-0 lg:group-hover:-translate-y-56 lg:group-hover:scale-125"
            >
              Projects
            </p>

            <!-- Texto adicional que aparece en hover -->
            <div
              class="absolute inset-0 flex items-center justify-center p-4 text-center lg:opacity-0 transition-opacity duration-300 ease-in-out group-hover:opacity-100"
            >
              <div
                class="w-[80%] lg:w-3/4 lg:block flex justify-around lg:mt-9"
              >
                {
                  proyectos.map((proyecto) => {
                    const { slug, data } = proyecto;
                    const { nombre, author, img, description } = data;
                    return (
                      <Proyector>
                        <img
                          src={`/${img}`}
                          alt=""
                          class="w-full lg:w-[105px] lg:px-5 rounded-[50%]"
                        />
                        <p class="text-lg px-3 lg:flex hidden">{description}</p>
                      </Proyector>
                    );
                  })
                }
              </div>
            </div>
          </div>

          <!-- Sección "Skills" con texto oculto que aparece al hacer hover -->
          <div
            class="group relative flex h-[40vh] lg:h-full w-full lg:w-1/3 items-center justify-center duration-500 ease-out lg:hover:w-full"
          >
            <!-- Texto principal de "Skills" -->
            <p
              class="uppercase text-4xl px-5 font-bold text-white transition duration-700 lg:text-4xl lg:-translate-y-0 lg:group-hover:-translate-y-56 lg:group-hover:scale-125"
            >
              Skills
            </p>

            <!-- Texto adicional que aparece en hover -->
            <div
              class="lg:absolute inset-0 flex items-center justify-center p-4 text-center text-white lg:opacity-0 transition-opacity duration-300 ease-in-out lg:group-hover:opacity-100"
            >
              <div class="w-full">
                <div
                  class="w-full flex flex-wrap justify-around items-center mb-5"
                >
                  {
                    skills.slice(0, 3).map((skill) => {
                      const { slug, data } = skill;
                      const { img } = data;
                      return (
                        <img
                          src={`/${img}`}
                          alt=""
                          class="w-1/5 lg:w-[105px] lg:px-5"
                        />
                      );
                    })
                  }
                </div>
                <div class="w-full flex flex-wrap justify-around items-center">
                  {
                    skills.slice(3, 6).map((skill) => {
                      const { slug, data } = skill;
                      const { img } = data;
                      return (
                        <img
                          src={`/${img}`}
                          alt=""
                          class="w-1/5 lg:w-[105px] lg:px-5"
                        />
                      );
                    })
                  }
                </div>
              </div>
            </div>
          </div>

          <!-- Sección "Works" con texto oculto que aparece al hacer hover -->
          <div
            class="group relative flex h-[40vh] lg:h-full w-full lg:w-1/3 items-center justify-center duration-500 ease-out lg:hover:w-full"
          >
            <!-- Texto principal de "Skills" -->
            <p
              class="uppercase text-4xl px-5 font-bold text-white transition duration-700 lg:text-4xl lg:-translate-y-0 lg:group-hover:-translate-y-56 lg:group-hover:scale-125"
            >
              Works
            </p>

            <!-- Texto adicional que aparece en hover -->
            <div
              class="lg:absolute inset-0 flex items-center justify-center p-4 text-center text-white lg:opacity-0 transition-opacity duration-300 ease-in-out lg:group-hover:opacity-100"
            >
              <div class="w-full lg:w-full block lg:flex justify-center">
                {
                  works.map((work) => {
                    const { slug, data } = work;
                    const { nombre, ocupacion, img } = data;
                    return (
                      <div class="w-full lg:w-[70%] flex justify-around items-center rounded-xl dark:bg-[#3c444a]  bg-[#a6b4be] shadow-xl h-1/2 p-3">
                        <img
                          src={`/${img}`}
                          alt=""
                          class="w-1/2 lg:w-[55px] lg:px-5shadow-inner"
                        />
                        <div>
                          <p class="text-lg font-bold">{nombre}</p>
                          <p>{ocupacion}</p>
                        </div>
                      </div>
                    );
                  })
                }
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        window.addEventListener("load", () => {
          const welcomeText = document.getElementById("welcomeText");
          // Agrega clases de Tailwind para animar la subida y visibilidad
          welcomeText.classList.remove("translate-y-[300px]", "opacity-0");
          welcomeText.classList.add(
            "translate-y-[120px]",
            "lg:translate-y-[-37px] lg:translate-y-[-37px]",
            "opacity-100"
          );
        });
      </script>
    </body>
  </html>
</Layout>
